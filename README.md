# YouTube 视频下载器

一个功能强大的YouTube视频下载器，支持最高质量视频下载、音视频分离与合并、代理支持等特性。

## 核心特性

- **智能格式选择**
  - 自动选择最高质量的视频和音频流
  - 分别下载视频和音频以获得最佳质量
  - 使用FFmpeg无损合并音视频

- **下载管理**
  - 实时显示下载进度、速度和文件大小
  - 支持断点续传
  - 自动清理临时文件
  - 多次重试机制

- **代理支持**
  - 自动检测Windows系统代理
  - 支持环境变量代理配置
  - 支持手动设置代理

- **视频验证**
  - 下载完成后的格式验证
  - 视频分辨率检查
  - 音频参数验证

- **错误处理**
  - 完善的异常处理机制
  - 友好的错误提示
  - 下载失败自动重试

## 系统要求

- Python 3.6+
- FFmpeg（支持自动下载安装）
- 支持的操作系统：Windows/Linux/MacOS

## 依赖组件

- yt-dlp：YouTube视频解析和下载
- FFmpeg：视频处理和格式转换
- requests：网络请求
- 其他依赖见 requirements.txt

## 快速开始

1. 安装Python 3.6+
2. 安装依赖：
```bash
pip install -r requirements.txt
```
3. 运行下载器：
```bash
python downloader.py
```

## FFmpeg 安装说明

- Windows用户：程序会自动检测并提供FFmpeg下载安装
- Linux用户：`sudo apt-get install ffmpeg`
- macOS用户：`brew install ffmpeg`

## 使用说明

1. 运行程序后，根据提示输入YouTube视频URL
2. 选择是否使用代理（自动检测系统代理或手动设置）
3. 程序会自动：
   - 选择最佳视频和音频质量
   - 分别下载视频和音频流
   - 使用FFmpeg合并为最终MP4文件
   - 验证下载文件的格式参数

## 注意事项

- 确保有稳定的网络连接
- 对于某些地区可能需要配置代理
- 下载高质量视频需要足够的存储空间
- 程序会在当前目录创建临时文件，下载完成后自动清理

## 许可证

[MIT许可证 - 欢迎使用和修改！](LICENSE)
```